{"version":3,"file":"window.js","sourceRoot":"","sources":["../../../source/win32/user32/window.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,KAAK,EAAE,MAAM,kBAAkB,CAAA;AACxC,OAAO,EACH,MAAM,EACN,OAAO,EAAE,KAAK,EAAE,UAAU,EAAE,QAAQ,EAAE,QAAQ,EAC9C,OAAO,EAAE,OAAO,EAAE,QAAQ,EAE7B,MAAM,iBAAiB,CAAA;AACxB,OAAO,EAAE,MAAM,EAAc,MAAM,WAAW,CAAA;AAC9C,OAAO,EAAE,QAAQ,EAAgB,MAAM,aAAa,CAAA;AACpD,OAAO,EAAE,OAAO,EAAe,MAAM,YAAY,CAAA;AAGjD,MAAM,CAAC,MAAM,KAAK,GAAG,OAAO,CAAA;AAG5B,MAAM,CAAC,MAAM,QAAQ,GAAG,KAAK,CAAC,OAAO,CAAC,SAAS,EAAE,KAAK,CAAC,KAAK,CAAC,WAAW,EAAE,QAAQ,EAAE,CAAE,KAAK,EAAE,KAAK,EAAE,OAAO,EAAE,OAAO,CAAE,CAAC,CAAC,CAAA;AAGxH,MAAM,CAAC,MAAM,QAAQ,GAAG,KAAK,CAAC,OAAO,CAAC,SAAS,EAAE,KAAK,CAAC,KAAK,CAAC,WAAW,EAAE,QAAQ,EAAE,CAAE,KAAK,EAAE,KAAK,EAAE,OAAO,EAAE,OAAO,CAAE,CAAC,CAAC,CAAA;AAGxH,MAAM,CAAC,MAAM,SAAS,GAAG,KAAK,CAAC,MAAM,CAAC,UAAU,EAAE;IAC9C,KAAK,EAAW,KAAK;IACrB,WAAW,EAAK,QAAQ;IACxB,UAAU,EAAM,MAAM,CAAC,GAAG;IAC1B,UAAU,EAAM,MAAM,CAAC,GAAG;IAC1B,SAAS,EAAO,UAAU;IAC1B,KAAK,EAAW,MAAM;IACtB,OAAO,EAAS,QAAQ;IACxB,aAAa,EAAG,OAAO;IACvB,YAAY,EAAI,QAAQ;IACxB,aAAa,EAAG,QAAQ;CAC3B,CAAC,CAAA;AAEF,MAAM,CAAC,MAAM,WAAW,GAAG,KAAK,CAAC,OAAO,CAAC,YAAY,EAAE,SAAS,CAAC,CAAA;AACjE,MAAM,CAAC,MAAM,UAAU,GAAI,KAAK,CAAC,OAAO,CAAC,WAAW,EAAG,SAAS,CAAC,CAAA;AAEjE;;;;;GAKG;AACH,MAAM,OAAO,QAAQ;IACjB,KAAK,CAAa;IAClB,WAAW,CAAmC;IAC9C,UAAU,CAAY;IACtB,UAAU,CAAY;IACtB,SAAS,CAAgB;IACzB,KAAK,CAAgB;IACrB,OAAO,CAAgB;IACvB,aAAa,CAAS;IACtB,YAAY,CAAU;IACtB,aAAa,CAAS;IAEtB,YAAY,OAAiB;QACzB,IAAI,OAAO,OAAO,KAAK,UAAU;YAC7B,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC,QAAQ,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAA;IAC5D,CAAC;IAED,kDAAkD;IAClD,CAAC,MAAM,CAAC,OAAO,CAAC;QACZ,IAAI,IAAI,CAAC,WAAW,EAAE,CAAC;YACnB,KAAK,CAAC,UAAU,CAAC,IAAI,CAAC,WAAW,CAAC,CAAA;QACtC,CAAC;IACL,CAAC;CACJ;AAED,MAAM,CAAC,MAAM,WAAW,GAAG,KAAK,CAAC,MAAM,CAAC,YAAY,EAAE;IAClD,MAAM,EAAU,KAAK;IACrB,KAAK,EAAW,KAAK;IACrB,WAAW,EAAK,QAAQ;IACxB,UAAU,EAAM,MAAM,CAAC,GAAG;IAC1B,UAAU,EAAM,MAAM,CAAC,GAAG;IAC1B,SAAS,EAAO,UAAU;IAC1B,KAAK,EAAW,MAAM;IACtB,OAAO,EAAS,QAAQ;IACxB,aAAa,EAAG,OAAO;IACvB,YAAY,EAAI,QAAQ;IACxB,aAAa,EAAG,QAAQ;IACxB,OAAO,EAAS,MAAM;CACzB,CAAC,CAAA;AAEF,MAAM,CAAC,MAAM,aAAa,GAAG,KAAK,CAAC,OAAO,CAAC,cAAc,EAAE,WAAW,CAAC,CAAA;AACvE,MAAM,CAAC,MAAM,YAAY,GAAI,KAAK,CAAC,OAAO,CAAC,aAAa,EAAG,WAAW,CAAC,CAAA;AAEvE;;;;;GAKG;AACH,MAAM,OAAO,UAAU;IACV,MAAM,GAAG,KAAK,CAAC,MAAM,CAAC,WAAW,CAAC,CAAA;IAa3C,YAAY,OAAiB;QACzB,IAAI,OAAO,OAAO,KAAK,UAAU;YAC7B,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC,QAAQ,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAA;IAC5D,CAAC;IAED,kDAAkD;IAClD,CAAC,MAAM,CAAC,OAAO,CAAC;QACZ,IAAI,IAAI,CAAC,WAAW,EAAE,CAAC;YACnB,KAAK,CAAC,UAAU,CAAC,IAAI,CAAC,WAAW,CAAC,CAAA;QACtC,CAAC;IACL,CAAC;CACJ","sourcesContent":["import { koffi } from '../../private.js'\r\nimport {\r\n    ctypes,\r\n    cHANDLE, cUINT, cHINSTANCE, cLPCWSTR, cINT_PTR,\r\n    cWPARAM, cLPARAM, cLRESULT,\r\n    type HINSTANCE, type HANDLE, type LPARAM, type WPARAM\r\n} from '../../ctypes.js'\r\nimport { cHICON, type HICON } from './icon.js'\r\nimport { cHCURSOR, type HCURSOR } from './cursor.js'\r\nimport { cHBRUSH, type HBRUSH } from './brush.js'\r\nimport type { WM, CS } from './_consts.js'\r\n\r\nexport const cHWND = cHANDLE\r\nexport type HWND = HANDLE<'HWND'>\r\n\r\nexport const cWNDPROC = koffi.pointer('WNDPROC', koffi.proto('__wndproc', cLRESULT, [ cHWND, cUINT, cWPARAM, cLPARAM ]))\r\nexport type WNDPROC = (hWnd: HWND, msg: WM, wParam: WPARAM, lParam: LPARAM) => number\r\n\r\nexport const cDLGPROC = koffi.pointer('DLGPROC', koffi.proto('__dlgproc', cINT_PTR, [ cHWND, cUINT, cWPARAM, cLPARAM ]))\r\nexport type DLGPROC = (hWnd: HWND, msg: number, wParam: WPARAM, lParam: LPARAM) => number\r\n\r\nexport const cWNDCLASS = koffi.struct('WNDCLASS', {\r\n    style:          cUINT,\r\n    lpfnWndProc:    cWNDPROC,\r\n    cbClsExtra:     ctypes.int,\r\n    cbWndExtra:     ctypes.int,\r\n    hInstance:      cHINSTANCE,\r\n    hIcon:          cHICON,\r\n    hCursor:        cHCURSOR,\r\n    hbrBackground:  cHBRUSH,\r\n    lpszMenuName:   cLPCWSTR,\r\n    lpszClassName:  cLPCWSTR\r\n})\r\n\r\nexport const cLPWNDCLASS = koffi.pointer('LPWNDCLASS', cWNDCLASS)\r\nexport const cPWNDCLASS  = koffi.pointer('PWNDCLASS',  cWNDCLASS)\r\n\r\n/**\r\n * Contains the window class attributes that are registered by the RegisterClass function.\r\n *\r\n * @disposable true\r\n * @link https://learn.microsoft.com/en-us/windows/win32/api/winuser/ns-winuser-wndclassw\r\n */\r\nexport class WNDCLASS {\r\n    style?:         CS\r\n    lpfnWndProc?:   koffi.IKoffiRegisteredCallback\r\n    cbClsExtra?:    number\r\n    cbWndExtra?:    number\r\n    hInstance?:     HINSTANCE\r\n    hIcon?:         HICON\r\n    hCursor?:       HCURSOR\r\n    hbrBackground?: HBRUSH\r\n    lpszMenuName?:  string\r\n    lpszClassName?: string\r\n\r\n    constructor(wndProc?: WNDPROC) {\r\n        if (typeof wndProc === 'function')\r\n            this.lpfnWndProc = koffi.register(wndProc, cWNDPROC)\r\n    }\r\n\r\n    // For use with `using` (requires TypeScript 5.2+)\r\n    [Symbol.dispose]() {\r\n        if (this.lpfnWndProc) {\r\n            koffi.unregister(this.lpfnWndProc)\r\n        }\r\n    }\r\n}\r\n\r\nexport const cWNDCLASSEX = koffi.struct('WNDCLASSEX', {\r\n    cbSize:         cUINT,\r\n    style:          cUINT,\r\n    lpfnWndProc:    cWNDPROC,\r\n    cbClsExtra:     ctypes.int,\r\n    cbWndExtra:     ctypes.int,\r\n    hInstance:      cHINSTANCE,\r\n    hIcon:          cHICON,\r\n    hCursor:        cHCURSOR,\r\n    hbrBackground:  cHBRUSH,\r\n    lpszMenuName:   cLPCWSTR,\r\n    lpszClassName:  cLPCWSTR,\r\n    hIconSm:        cHICON\r\n})\r\n\r\nexport const cLPWNDCLASSEX = koffi.pointer('LPWNDCLASSEX', cWNDCLASSEX)\r\nexport const cPWNDCLASSEX  = koffi.pointer('PWNDCLASSEX',  cWNDCLASSEX)\r\n\r\n/**\r\n * Contains window class information. It is used with the RegisterClassEx and GetClassInfoEx functions.\r\n *\r\n * @disposable true\r\n * @link https://learn.microsoft.com/en-us/windows/win32/api/winuser/ns-winuser-wndclassexw\r\n */\r\nexport class WNDCLASSEX {\r\n    readonly cbSize = koffi.sizeof(cWNDCLASSEX)\r\n    declare  style?:         CS\r\n    declare  lpfnWndProc?:   koffi.IKoffiRegisteredCallback\r\n    declare  cbClsExtra?:    number\r\n    declare  cbWndExtra?:    number\r\n    declare  hInstance?:     HINSTANCE\r\n    declare  hIcon?:         HICON\r\n    declare  hCursor?:       HCURSOR\r\n    declare  hbrBackground?: HBRUSH\r\n    declare  lpszMenuName?:  string\r\n    declare  lpszClassName?: string\r\n    declare  hIconSm?:       HICON\r\n\r\n    constructor(wndProc?: WNDPROC) {\r\n        if (typeof wndProc === 'function')\r\n            this.lpfnWndProc = koffi.register(wndProc, cWNDPROC)\r\n    }\r\n\r\n    // For use with `using` (requires TypeScript 5.2+)\r\n    [Symbol.dispose]() {\r\n        if (this.lpfnWndProc) {\r\n            koffi.unregister(this.lpfnWndProc)\r\n        }\r\n    }\r\n}\r\n"]}